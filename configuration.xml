<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
    <!-- SEMVER version format -->
    <version>1.0.4</version>

    <!-- Integration modes -->
    <modes>
        <mode>
            <code>directlink</code>
            <labels>
                <label language="fr">Serveur à serveur</label>
            </labels>
        </mode>
        <mode>
            <code>form</code>
            <labels>
                <label language="fr">Formulaire</label>
            </labels>
        </mode>
        <mode>
            <code>form-iframe</code>
            <labels>
                <label language="fr">Formulaire dans une iframe</label>
            </labels>
        </mode>
        <mode>
            <code>redirect</code>
            <labels>
                <label language="fr">Redirection vers le site du fournisseur</label>
            </labels>
        </mode>
        <mode>
            <code>direct-submit</code>
            <labels>
                <label language="fr">Soumission POST directe</label>
            </labels>
        </mode>
    </modes>

    <!-- Available operations -->
    <operations>
        <operation>
            <code>payment</code>
            <labels>
                <label language="fr">Paiement</label>
            </labels>
        </operation>
        <operation>
            <code>authorization</code>
            <labels>
                <label language="fr">Authorisation</label>
            </labels>
        </operation>
        <operation>
            <code>capture</code>
            <labels>
                <label language="fr">Capture</label>
            </labels>
        </operation>
        <operation>
            <code>REFUND_MULTIPLE</code>
            <labels>
                <label language="fr">Operations multiples</label>
            </labels>
        </operation>
        <operation>
            <code>REFUND_PARTIAL</code>
            <labels>
                <label language="fr">Operations partielles</label>
            </labels>
        </operation>
    </operations>

    <!-- Available options-->
    <options>
        <option>
            <code>3dsecure</code>
            <labels>
                <label language="fr">3D Secure</label>
            </labels>
            <!--
                custom fields for options
                1st set of expected tags are:
                <code> => the unique option id
                <required> => yes => the parameters is mandatory (this tag could be absent or set to 'no')
                <absent> => yes => the parameter should not be present (allow parameter_set overriding) (this tag could be absent or set to 'no')
            -->
            <parameters>
                <parameter>
                    <code>3DSECURE</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>3DSECUREDISPLAYMODE</code>
                    <required>yes</required>
                </parameter>
            </parameters>
        </option>

        <option>
            <code>ntimes</code>
            <labels>
                <label language="fr">Paiement fractionnée</label>
            </labels>
            <parameters>
                <parameter>
                    <code>AMOUNT</code>
                    <!-- Override the default operation parameter set: here indicate to remove the parameter AMOUNT -->
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <code>AMOUNTS</code>
                    <required>yes</required>
                </parameter>
            </parameters>
        </option>

        <option>
            <code>oneclick</code>
            <labels>
                <label language="fr">Paiement en un click</label>
            </labels>
            <parameters>
                <parameter>
                    <code>ALIAS</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>ALIASMODE</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>CARDCODE</code>
                    <!-- Another overriding -->
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <code>CARDCVV</code>
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <code>CARDVALIDITYDATE</code>
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <code>CARDFULLNAME</code>
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <code>CLIENTIP</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>CLIENTREFERRER</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>CLIENTUSERAGENT</code>
                    <required>yes</required>
                </parameter>
            </parameters>
        </option>

        <option>
            <code>oneclickcvv</code>
            <labels>
                <label language="fr">Paiement en un click avec saisie du cryptogramme</label>
            </labels>
            <parameters>
                <parameter>
                    <code>ALIAS</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>ALIASMODE</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>CARDCODE</code>
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <!-- CVV is mandatory for 1click + cvv -->
                    <code>CARDCVV</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>CARDVALIDITYDATE</code>
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <code>CARDFULLNAME</code>
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <code>CLIENTIP</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>CLIENTREFERRER</code>
                    <required>yes</required>
                </parameter>
                <parameter>
                    <code>CLIENTUSERAGENT</code>
                    <required>yes</required>
                </parameter>
            </parameters>
        </option>
        <option>
            <code>displaycreatealias</code>
            <labels>
                <label language="fr">Laisser le porteur choisir la mémorisation de ses donnés cartes</label>
            </labels>
            <parameters>
                <parameter>
                    <code>CREATEALIAS</code>
                    <absent>yes</absent>
                </parameter>
                <parameter>
                    <code>DISPLAYCREATEALIAS</code>
                    <required>yes</required>
                </parameter>
            </parameters>
        </option>
    </options>

    <!-- Account types definfintion -->
    <account_types>
        <account_type>
            <code>cbvisamc-fr</code>
            <logo_url>http://site/logo.jpg</logo_url>
            <labels>
                <label language="en">CB - VISA - MC (French zone)</label>
            </labels>

            <!-- Available currencies -->
            <currencies>
                <currency>EUR</currency>
            </currencies>

            <!-- Available countries -->
            <countries>
                <country>FR</country>
            </countries>

            <!-- Compatible integration modes -->
            <modes>
                <mode>form</mode>
                <mode>form-iframe</mode>
                <mode>directlink</mode>
            </modes>

            <!-- Defines a parameter set for an operation -->
            <parameter_sets>
                <parameter_set>
                    <be2bill_api_version>2.0</be2bill_api_version>
                    <logo_url>http://site/logo-simplepayment.jpg</logo_url>

                    <!-- Parameter set concerned operations -->
                    <operations>
                        <operation>payment</operation>
                        <operation>authorization</operation>
                    </operations>

                    <!-- Parameter set's compatible options -->
                    <options>
                        <option>3dsecure</option>
                        <option>ntime</option>
                        <option>1click</option>
                        <option>1clickcvv</option>
                        <option>displaycreatealias</option>
                    </options>

                    <!--
                     The parameter list
                     Only specifies concerned parameters (by account type + operation type)
                     possible tags
                      <code>
                      <required> yes/no

                      Parameters can be overwritten with <options> section
                    -->
                    <parameters>
                        <parameter>
                            <code>AMOUNT</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>BILLINGADDRESS</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>BILLINGCOUNTRY</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>BILLINGFIRSTNAME</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>BILLINGLASTNAME</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>BILLINGMOBILEPHONE</code>
                            <required>no</required>
                        </parameter>
                        <parameter>
                            <code>BILLINGPHONE</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>BILLINGPOSTALCODE</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>SHIPTOCITY</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>CARDFULLNAME</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>CLIENTEMAIL</code>
                            <required>yes</required>
                        </parameter>
                        <parameter>
                            <code>CLIENTIDENT</code>
                            <required>yes</required>
                        </parameter>
                        ...
                    </parameters>
                </parameter_set>
            </parameter_sets>
        </account_type>
    </account_types>

    <account_type>
        <code>klarnainvoice</code>
        <logo_url>http://site/logo.jpg</logo_url>
        <labels>
            <label language="en">Klarna Invoice</label>
        </labels>

        <!-- Available currencies -->
        <currencies>
            ...
        </currencies>

        <!-- Compatible integration modes -->
        <modes>
            <mode>directsubmit</mode>
        </modes>

        <parameter_sets>
            <!-- Klarna parameter set 1 based on a country list -->
            <parameter_set>
                <be2bill_api_version>3.0</be2bill_api_version>
                <logo_url>http://site/logo-simplepayment.jpg</logo_url>

                <!-- Parameter set concerned operations -->
                <operations>
                    <operation>payment</operation>
                    <operation>authorization</operation>
                </operations>

                <!-- Available countries -->
                <countries>
                    <country>AT</country>
                    <country>DE</country>
                    <country>NL</country>
                    <country>GB</country>
                    <country>US</country>
                </countries>

                <!-- Parameter set's compatible options -->
                <options>
                </options>

                <!--
                 The parameter list
                 Only specifies concerned parameters (by account type + operation type)
                 possible tags
                  <code>
                  <required> yes/no

                  Parameters can be overwritten with <options> section
                -->
                <parameters>
                    <parameter>
                        <code>AMOUNT</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGADDRESS</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGCOUNTRY</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGFIRSTNAME</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGLASTNAME</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGMOBILEPHONE</code>
                        <required>no</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGPHONE</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGPOSTALCODE</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>SHIPTOCITY</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>CARDFULLNAME</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>CLIENTEMAIL</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>CLIENTIDENT</code>
                        <required>yes</required>
                    </parameter>
                    ...
                </parameters>
            </parameter_set>

            <!-- Klarna parameter set 2 based on a country list -->
            <parameter_set>
                <be2bill_api_version>3.0</be2bill_api_version>
                <logo_url>http://site/logo-simplepayment.jpg</logo_url>

                <!-- Parameter set concerned operations -->
                <operations>
                    <operation>payment</operation>
                    <operation>authorization</operation>
                </operations>

                <!-- Parameter set's compatible options -->
                <options>
                </options>

                <countries>
                    <country>DK</country>
                    <country>FI</country>
                    <country>NO</country>
                    <country>SE</country>
                </countries>

                <!--
                 The parameter list
                 Only specifies concerned parameters (by account type + operation type)
                 possible tags
                  <code>
                  <required> yes/no

                  Parameters can be overwritten with <options> section
                -->
                <parameters>
                    <parameter>
                        <code>AMOUNT</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGADDRESS</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGCOUNTRY</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGFIRSTNAME</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGLASTNAME</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGMOBILEPHONE</code>
                        <required>no</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGPHONE</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>BILLINGPOSTALCODE</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>SHIPTOCITY</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>CARDFULLNAME</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>CLIENTEMAIL</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>CLIENTIDENT</code>
                        <required>yes</required>
                    </parameter>
                    ...
                    <!-- Special case for klarna by country exceptions -->
                    <parameter>
                        <code>IDENTIFICATIONDOCID</code>
                        <required>yes</required>
                    </parameter>
                    <parameter>
                        <code>IDENTIFICATIONDOCTYPE</code>
                        <required>yes</required>
                    </parameter>

                </parameters>
            </parameter_set>
        </parameter_sets>
    </account_type>
</configuration>
